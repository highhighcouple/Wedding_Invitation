
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Admin Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        body { background: #0b0e11; color: #e1e4e8; font-family: 'Segoe UI', system-ui, sans-serif; }
        .steam-card { background: #1b2838; border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.05); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .steam-input { background: #101822; border: 1px solid #2a475e; color: #fff; padding: 14px; border-radius: 4px; width: 100%; outline: none; transition: 0.2s; }
        .steam-input:focus { border-color: #66c0f4; background: #16202d; }
        .steam-label { color: #66c0f4; font-size: 11px; font-weight: 900; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 10px; display: block; }
        .btn-steam { background: linear-gradient(to right, #47bfff, #1a44c2); color: white; padding: 14px 28px; border-radius: 4px; font-weight: bold; transition: 0.2s; cursor: pointer; border: none; }
        .btn-steam:hover { filter: brightness(1.2); transform: translateY(-1px); }
        [x-cloak] { display: none !important; }
        .tab-btn { padding: 12px 20px; border-radius: 4px; transition: 0.2s; font-weight: 600; text-align: left; }
        .tab-btn.active { background: #66c0f4; color: #1b2838; }
        .tab-btn:not(.active):hover { background: rgba(255, 255, 255, 0.05); }
    </style>
</head>
<body x-data="adminHub()" x-init="init()" class="min-h-screen flex flex-col md:flex-row">

    <!-- Auth Guard -->
    <div x-show="!isLoggedIn" class="fixed inset-0 z-[5000] bg-[#0b0e11] flex items-center justify-center p-6">
        <div class="steam-card p-12 w-full max-w-md space-y-8 animate__animated animate__fadeInDown">
            <div class="text-center">
                <h1 class="text-3xl font-black text-white mb-2">ACCESS TERMINAL</h1>
                <p class="text-gray-500 text-sm">Please verify administrative credentials</p>
            </div>
            <div class="space-y-4">
                <input type="password" x-model="loginPass" placeholder="ADMIN PASSWORD" class="steam-input text-center text-xl tracking-widest" @keyup.enter="tryLogin()">
                <button @click="tryLogin()" class="w-full btn-steam uppercase tracking-widest">Authorize Access</button>
            </div>
        </div>
    </div>

    <!-- Sidebar -->
    <aside class="w-full md:w-72 bg-[#1b2838] border-r border-white/5 p-8 space-y-8 shadow-2xl z-10">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-sky-500 rounded-lg flex items-center justify-center text-xl">ğŸ’</div>
            <h2 class="text-white font-black uppercase tracking-tighter text-lg leading-tight">Wedding<br>Admin Hub</h2>
        </div>
        <nav class="space-y-2">
            <template x-for="t in tabs">
                <button @click="activeTab = t.id" class="w-full tab-btn" :class="activeTab === t.id ? 'active' : ''" x-text="t.name"></button>
            </template>
        </nav>
        <div class="pt-8 space-y-4 border-t border-white/5">
            <button @click="saveData()" class="w-full btn-steam">PUBLISH CHANGES</button>
            <button @click="downloadCsv()" class="w-full text-xs font-bold text-gray-500 border border-white/10 p-3 rounded hover:bg-white/5 transition uppercase tracking-widest">Export RSVP (CSV)</button>
        </div>
    </aside>

    <!-- Main -->
    <main class="flex-1 p-8 md:p-16 overflow-y-auto bg-[#101822]">
        <div class="max-w-5xl mx-auto">
            
            <!-- Tab: Identity -->
            <div x-show="activeTab === 'identity'" class="space-y-12 animate__animated animate__fadeIn">
                <header class="space-y-2">
                    <h3 class="text-4xl font-black text-white tracking-tight">Essential Identity</h3>
                    <p class="text-gray-500">ì‹ ë‘, ì‹ ë¶€ ë° í˜¼ì£¼ ì •ë³´ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
                </header>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                    <!-- Groom Side -->
                    <div class="steam-card p-10 space-y-6">
                        <label class="steam-label">Groom Side Entity</label>
                        <div class="space-y-4">
                            <input type="text" x-model="data.groom.name" placeholder="ì‹ ë‘ ì´ë¦„" class="steam-input">
                            <input type="text" x-model="data.groom.father" placeholder="ì•„ë²„ì§€ ì„±í•¨" class="steam-input">
                            <input type="text" x-model="data.groom.mother" placeholder="ì–´ë¨¸ë‹ˆ ì„±í•¨" class="steam-input">
                            <div class="flex gap-4">
                                <select x-model="data.groom.rank" class="steam-input flex-1">
                                    <option value="ì¥ë‚¨">ì¥ë‚¨</option><option value="ì°¨ë‚¨">ì°¨ë‚¨</option><option value="ì‚¼ë‚¨">ì‚¼ë‚¨</option>
                                    <option value="ì¥ë…€">ì¥ë…€</option><option value="ì°¨ë…€">ì°¨ë…€</option>
                                </select>
                            </div>
                            <input type="text" x-model="data.groom.phone" placeholder="ì‹ ë‘ ì—°ë½ì²˜ (010-0000-0000)" class="steam-input">
                            <input type="text" x-model="data.groomParents.fPhone" placeholder="ì•„ë²„ì§€ ì—°ë½ì²˜" class="steam-input">
                            <input type="text" x-model="data.groomParents.mPhone" placeholder="ì–´ë¨¸ë‹ˆ ì—°ë½ì²˜" class="steam-input">
                        </div>
                    </div>
                    <!-- Bride Side -->
                    <div class="steam-card p-10 space-y-6">
                        <label class="steam-label">Bride Side Entity</label>
                        <div class="space-y-4">
                            <input type="text" x-model="data.bride.name" placeholder="ì‹ ë¶€ ì´ë¦„" class="steam-input">
                            <input type="text" x-model="data.bride.father" placeholder="ì•„ë²„ì§€ ì„±í•¨" class="steam-input">
                            <input type="text" x-model="data.bride.mother" placeholder="ì–´ë¨¸ë‹ˆ ì„±í•¨" class="steam-input">
                            <div class="flex gap-4">
                                <select x-model="data.bride.rank" class="steam-input flex-1">
                                    <option value="ì¥ë…€">ì¥ë…€</option><option value="ì°¨ë…€">ì°¨ë…€</option><option value="ì‚¼ë…€">ì‚¼ë…€</option>
                                    <option value="ì¥ë‚¨">ì¥ë‚¨</option><option value="ì°¨ë‚¨">ì°¨ë‚¨</option>
                                </select>
                            </div>
                            <input type="text" x-model="data.bride.phone" placeholder="ì‹ ë¶€ ì—°ë½ì²˜ (010-0000-0000)" class="steam-input">
                            <input type="text" x-model="data.brideParents.fPhone" placeholder="ì•„ë²„ì§€ ì—°ë½ì²˜" class="steam-input">
                            <input type="text" x-model="data.brideParents.mPhone" placeholder="ì–´ë¨¸ë‹ˆ ì—°ë½ì²˜" class="steam-input">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab: RSVP -->
            <div x-show="activeTab === 'rsvp'" class="space-y-12 animate__animated animate__fadeIn">
                <header class="space-y-2">
                    <h3 class="text-4xl font-black text-white tracking-tight">RSVP Analytics</h3>
                    <p class="text-gray-500">ì°¸ì„ ì—¬ë¶€ ë° ì‹ì‚¬ ì¸ì› í˜„í™©ì…ë‹ˆë‹¤.</p>
                </header>
                <div class="steam-card overflow-hidden">
                    <table class="w-full text-left">
                        <thead class="bg-black/20 text-sky-400 text-xs font-black uppercase tracking-widest">
                            <tr>
                                <th class="p-5">Timestamp</th><th class="p-5">Side</th><th class="p-5">Name</th><th class="p-5">Attend</th><th class="p-5">Meal</th><th class="p-5">Guests</th><th class="p-5">Control</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm divide-y divide-white/5">
                            <template x-for="(r, i) in rsvpList" :key="i">
                                <tr class="hover:bg-white/5 transition">
                                    <td class="p-5 font-mono text-gray-500" x-text="r.date"></td>
                                    <td class="p-5"><span :class="r.side === 'groom' ? 'text-blue-400' : 'text-pink-400'" class="font-bold uppercase" x-text="r.side"></span></td>
                                    <td class="p-5 font-bold text-white" x-text="r.name"></td>
                                    <td class="p-5"><span :class="r.attend ? 'text-green-400' : 'text-red-400'" x-text="r.attend ? 'YES' : 'NO'"></span></td>
                                    <td class="p-5 text-gray-400" x-text="r.meal ? 'YES' : 'NO'"></td>
                                    <td class="p-5 font-bold text-white" x-text="r.plusOnes"></td>
                                    <td class="p-5">
                                        <button @click="deleteRsvp(i)" class="text-red-400 hover:text-red-300 font-bold">REMOVE</button>
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- More Tabs Placeholder -->
            <div x-show="['visuals', 'logistics'].includes(activeTab)" class="h-64 flex items-center justify-center border-2 border-dashed border-white/5 rounded-3xl">
                <p class="text-gray-500 font-bold tracking-widest">EXTENDED OPTIONS IN DEVELOPMENT</p>
            </div>

        </div>
    </main>

    <script>
        function adminHub() {
            return {
                isLoggedIn: false,
                loginPass: '',
                activeTab: 'identity',
                tabs: [
                    { id: 'identity', name: 'Identity & Accounts' },
                    { id: 'visuals', name: 'Visual Media' },
                    { id: 'logistics', name: 'Venue Logistics' },
                    { id: 'rsvp', name: 'RSVP Terminal' }
                ],
                data: {},
                rsvpList: [],

                init() {
                    const saved = localStorage.getItem('wedding_v2_data');
                    this.data = saved ? JSON.parse(saved) : this.getInitialState();
                    this.rsvpList = JSON.parse(localStorage.getItem('rsvp_data') || '[]');
                },

                tryLogin() {
                    if (this.loginPass === 'admin1234!') this.isLoggedIn = true;
                    else alert('Access Denied: Invalid Credentials');
                },

                saveData() {
                    localStorage.setItem('wedding_v2_data', JSON.stringify(this.data));
                    alert('PUBLISHED: Mobile Invitation is now updated.');
                },

                deleteRsvp(idx) {
                    if(confirm('Are you sure you want to remove this record?')) {
                        this.rsvpList.splice(idx, 1);
                        localStorage.setItem('rsvp_data', JSON.stringify(this.rsvpList));
                    }
                },

                downloadCsv() {
                    let csv = '\uFEFFDate,Side,Name,Phone,Attend,Meal,PlusOnes\n';
                    this.rsvpList.forEach(r => {
                        csv += `${r.date},${r.side},${r.name},${r.phone},${r.attend},${r.meal},${r.plusOnes}\n`;
                    });
                    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.setAttribute('href', url);
                    a.setAttribute('download', `rsvp_list_${new Date().toISOString().slice(0,10)}.csv`);
                    a.click();
                },

                getInitialState() {
                    return {
                        mainImage: 'https://images.unsplash.com/photo-1511795409834-ef04bbd61622?q=80&w=2069',
                        overlayText: 'Wedding Invitation',
                        overlayPos: 'top',
                        mainMessage: 'ì¡°í˜„ìš° ê·¸ë¦¬ê³  ë¥˜í•˜ì˜\n\n2026ë…„ 05ì›” 02ì¼ í† ìš”ì¼ PM 13ì‹œ 00ë¶„\nê°•ë‚¨ ë§ˆë¦¬ì•„ì¥¬ ìŠ¤í€˜ì–´\n\nì˜ì›íˆ í•¨ê»˜í• \nì‚¬ë‘ì˜ ë§¹ì„¸\nê°™ì´ ì¶•ë³µí•´ì£¼ì„¸ìš”.',
                        weddingDate: '2026-05-02T13:00:00',
                        youtubeLink: 'https://youtu.be/UmdCDfXQ8wQ',
                        groom: { name: 'ì¡°í˜„ìš°', father: 'ì¡°ë³µë˜', mother: 'ë‚˜ì„ í¬', rank: 'ì¥ë‚¨', phone: '010-3366-4848', acc: '040-086067-01-014', bank: 'ê¸°ì—…' },
                        bride: { name: 'ë¥˜í•˜ì˜', father: 'ë¥˜ë¯¼ì„', mother: 'ê³ ìš°í¬', rank: 'ì¥ë…€', phone: '010-6556-7525', acc: '926-54-7559-46', bank: 'êµ­ë¯¼' },
                        groomParents: { fPhone: '010-9090-0824', mPhone: '010-9877-0824', fAcc: '109-08-072450', fBank: 'ìš°ë¦¬', mAcc: '110-587-170868', mBank: 'ì‹ í•œ' },
                        brideParents: { fPhone: '010-5356-7558', mPhone: '010-9858-7551', fAcc: '302-5356-7558-41', fBank: 'ë†í˜‘', mAcc: '339-06-063092', mBank: 'ì‹ í•œ' },
                        gallery: [
                            'https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=1000',
                            'https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=1000',
                            'https://images.unsplash.com/photo-1519741497674-611481863552?w=1000'
                        ],
                        venue: {
                            name: 'ë§ˆë¦¬ì•„ì¥¬ ìŠ¤í€˜ì–´',
                            address: 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ë„ì‚°ëŒ€ë¡œ 318 SBíƒ€ì›Œ Gì¸µ',
                            phone: '02-541-5007',
                            homepage: 'http://www.mariagesquare.com/',
                            guideText: 'ì…”í‹€ìš´í–‰: ê°•ë‚¨êµ¬ì²­ì—­ 3ë²ˆì¶œêµ¬ ì…”í‹€ ì´ìš©'
                        },
                        sections: [
                            { id: 'names', title: 'Eternal Promise', isVisible: true, isFolded: false, order: 1 },
                            { id: 'calendar', title: 'The Day', isVisible: true, isFolded: false, order: 2 },
                            { id: 'youtube', title: 'Memory Film', isVisible: true, isFolded: true, order: 3 },
                            { id: 'gallery', title: 'Gallery', isVisible: true, isFolded: true, order: 4 },
                            { id: 'phone', title: 'Contact', isVisible: true, isFolded: true, order: 5 },
                            { id: 'accounts', title: 'Gift', isVisible: true, isFolded: true, order: 6 },
                            { id: 'location', title: 'Location', isVisible: true, isFolded: false, order: 7 },
                            { id: 'guestbook', title: 'Guestbook', isVisible: true, isFolded: true, order: 8 },
                            { id: 'rsvp', title: 'RSVP', isVisible: true, isFolded: false, order: 9 },
                            { id: 'share', title: 'Share', isVisible: true, isFolded: true, order: 10 }
                        ],
                        guestbook: []
                    };
                }
            }
        }
    </script>
</body>
</html>
